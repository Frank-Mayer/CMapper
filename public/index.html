<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="referrer" content="no-referrer" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="img/fav64.webp" />
    <link rel="icon" href="img/fav128.webp" />
    <link rel="icon" href="img/fav512.webp" />
    <title>CMapper</title>
    <meta name="Description" content="Online UML Class Diagram Editor" />
    <script defer src="rocket.js"></script>
    <script
      defer
      src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.8.0/mermaid.min.js"
    ></script>
    <script
      async
      rel="preload"
      as="script"
      src="https://frank-mayer.tk/cdn/jscomp.js"
    ></script>
    <link async rel="stylesheet" href="style.css" />
    <script async rel="preload" type="text/javascript" as="script">
      if (window.top !== window.self) {
        window.top.location.replace(window.self.location.href);
      }
    </script>
  </head>
  <body>
    <section id="prerendered">
      <input
        id="fileUpload"
        type="file"
        accept=".cm"
        style="display: none"
        oninput="structureHolder.loadFile(this.files[0])"
      />
      <ul id="contextMenu">
        <li class="newClass" onclick="Ui.newClass()">New Class</li>
        <li class="newField" onclick="Ui.newField()">New Field</li>
        <li class="newMethod" onclick="Ui.newMethod()">New Method</li>
        <li class="newRelation" onclick="Ui.newRelation()">New Relation</li>
        <li onclick="Ui.delete()">Delete</li>
        <!-- <li>Duplicate Class<span class="key">Ctrl+D</span></li> -->
      </ul>
      <div id="topBar">
        <img
          id="load_cm"
          title="Load"
          src="img/folder.svg"
          onclick="Ui.loadFile()"
        />
        <img
          id="save_cm"
          title="Save"
          src="img/save.svg"
          onclick="Build.build('cm')"
        />
        <button onclick="Build.build()">Build</button>
        <select
          name="selectBuild"
          id="selectBuild"
          onchange="Build.updateMode(this.value)"
          oninput="Build.updateMode(this.value)"
        >
          <optgroup label="SourceCode">
            <option value="cs">C#</option>
            <option value="ts">TypeScript</option>
          </optgroup>
        </select>
      </div>
      <ul id="sidebar">
        <li id="sidebar_classname_li">
          <label class="placeholder" for="sidebar_classname">Classname:</label>
          <input
            class="input"
            type="text"
            placeholder="Classname"
            id="sidebar_classname"
            name="sidebar_classname"
            onchange="Ui.setClassName()"
          />
        </li>
        <li id="sidebar_classifer_li">
          <label for="sidebar_classifer">Classifer: </label>
          <select
            id="sidebar_classifer"
            name="sidebar_classifer"
            oninput="Ui.setClassClassifer(this.value)"
          >
            <option value="">Default</option>
            <option value="*">Abstract</option>
            <option value="$">Static</option>
          </select>
        </li>
        <li>
          <ul id="sidebar_fields"></ul>
        </li>
        <li>
          <ul id="sidebar_methods"></ul>
        </li>
        <li>
          <ul id="sidebar_relations"></ul>
        </li>
      </ul>
      <div id="editDialog">
        <div class="window">
          <div class="titleBar">Edit Member</div>
          <table id="editDialogContent" class="content"></table>
          <div class="buttons">
            <button class="focus" onclick="Ui.editDialog.apply()">OK</button>
            <button onclick="Ui.editDialog.close()">Cancel</button>
            <span
              class="ask"
              title='Edit the selected member.
Press "OK" to save your changes.
Press "Cancel" to revert your changes.'
              >?</span
            >
          </div>
        </div>
      </div>
    </section>
    <div id="graph"></div>
    <script defer src="app.js"></script>
  </body>
</html>
