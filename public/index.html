<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="referrer" content="no-referrer" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="manifest" href="manifest.webmanifest" />
    <link rel="icon" href="img/fav64.webp" />
    <link rel="icon" href="img/fav128.webp" />
    <link rel="icon" href="img/fav512.webp" />
    <title>CMapper</title>
    <meta name="Description" content="Online UML Class Diagram Editor" />
    <script defer src="rocket.js"></script>
    <script defer src="https://frank-mayer.tk/cdn/mermaid.js"></script>
    <script
      async
      rel="preload"
      as="script"
      src="https://frank-mayer.tk/cdn/jscomp.js"
    ></script>
    <link async rel="stylesheet" href="style.css" />
    <script async rel="preload" type="text/javascript" as="script">
      if (window.top !== window.self) {
        window.top.location.replace(window.self.location.href);
      }
    </script>
  </head>
  <body class="fullscreen">
    <section id="prerendered">
      <input
        id="fileUpload"
        type="file"
        accept=".cm"
        style="display: none"
        oninput="structureHolder.loadFile(this.files[0])"
      />
      <ul id="contextMenu">
        <li class="newClass" onclick="Ui.newClass()">New Class</li>
        <li class="newField" onclick="Ui.newField()">New Field</li>
        <li class="newMethod" onclick="Ui.newMethod()">New Method</li>
        <li class="newRelation" onclick="Ui.newRelation()">New Relation</li>
        <li class="swapRelation" onclick="Ui.swapRelation()">Swap Relation</li>
        <li class="delete" onclick="Ui.delete()">Delete</li>
        <!-- <li>Duplicate Class<span class="key">Ctrl+D</span></li> -->
      </ul>
      <div id="topBar">
        <img
          id="load_cm"
          title="Load"
          src="img/folder.svg"
          onclick="Ui.loadFile()"
        />
        <img
          id="save_cm"
          title="Save"
          src="img/save.svg"
          onclick="Build.build('cm')"
        />
        <img
          id="export_cm"
          title="Export Image"
          src="img/capture.svg"
          onclick="Build.image()"
        />
        <span id="rename_cm">
          <img title="Rename" src="img/rename.svg" />
          <input
            type="text"
            id="projectName"
            oninput="if(this.value.length>0){structureHolder.name=this.value;}"
            value="unknown"
          />
        </span>
        <img
          title="View SourceCode on GitHub"
          src="img/github.svg"
          onclick="window.open('https://github.com/Frank-Mayer/CMapper')"
        />
        <img
          id="zoomIn"
          title="UiZoom +"
          src="img/zoomin.svg"
          onclick="Zoom.zoom(+1)"
        />
        <img
          id="zoomOut"
          title="Ui Zoom -"
          src="img/zoomout.svg"
          onclick="Zoom.zoom(-1)"
        />
        <img
          title="Full Screen"
          src="img/fullscreen.svg"
          onclick="document.body.requestFullscreen()"
        />
        <button onclick="Build.build()">Build</button>
        <select
          name="selectBuild"
          id="selectBuild"
          onchange="Build.updateMode(this.value)"
          oninput="Build.updateMode(this.value)"
        >
          <optgroup label="SourceCode">
            <option value="cs">C#</option>
            <option value="h">C++</option>
            <option value="ts">TypeScript</option>
            <option value="py">Python3</option>
          </optgroup>
        </select>
      </div>
      <div id="statusBar">
        <span onclick="Smart.showDialog()">
          <img src="img/lightbulb.svg" />
          <span id="smart">0</span>
        </span>
      </div>
      <div id="sidebarResize"></div>
      <ul id="sidebar">
        <li id="sidebar_classname_li">
          <label class="placeholder" for="sidebar_classname">Classname:</label>
          <input
            class="input"
            type="text"
            placeholder="Classname"
            id="sidebar_classname"
            name="sidebar_classname"
            onchange="Ui.setClassName()"
            max="100"
          />
        </li>
        <li id="sidebar_classifer_li">
          <label for="sidebar_classifer">Classifer: </label>
          <select
            id="sidebar_classifer"
            name="sidebar_classifer"
            oninput="Ui.setClassClassifer(this.value)"
          >
            <option value="">Default</option>
            <option value="*">Abstract</option>
            <option value="$">Static</option>
          </select>
        </li>
        <li>
          <ul id="sidebar_fields"></ul>
        </li>
        <li>
          <ul id="sidebar_methods"></ul>
        </li>
        <li>
          <ul id="sidebar_relations"></ul>
        </li>
      </ul>
      <div id="editDialog">
        <div class="window">
          <div class="titleBar">Edit Member</div>
          <table id="editDialogContent" class="content"></table>
          <div class="buttons">
            <button class="focus" onclick="Ui.editDialog.apply()">OK</button>
            <button onclick="Ui.editDialog.close()">Cancel</button>
            <span
              class="ask"
              title='Edit the selected member.
Press "OK" to save your changes.
Press "Cancel" to revert your changes.'
            >
              ?
            </span>
          </div>
        </div>
      </div>
    </section>
    <div id="graph"></div>
    <script defer src="app.js"></script>
    <script async src="jszip.min.js"></script>
    <script async src="FileSaver.min.js"></script>
    <script async src="https://frank-mayer.tk/cdn/dom-to-image.js"></script>
  </body>
</html>
